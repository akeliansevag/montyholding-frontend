<template>
    <section class="transition-all fixed top-0 w-full z-50 text-white"
      :class="scrolled ? 'bg-black h-[70px]' : 'bg-transparent h-[90px]'">
      <div class="container flex items-center justify-between h-full">
        <div class="z-10">
          <a @click="goToTop($event)" href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="30" viewBox="0 0 192 30" fill="none">
                    <g clip-path="url(#clip0_1523_3106)">
                        <path
                            d="M5.96283 1.2168L11.6504 17.2735L17.3076 1.2168H23.3007V23.3563H18.7219V17.3038L19.179 6.85774L13.2011 23.3563H10.0668L4.10655 6.87289L4.56367 17.3038V23.3563H0V1.2168H5.96283Z"
                            fill="white" />
                        <path
                            d="M25.5312 15.176V14.9791C25.5312 13.3479 25.8444 11.8935 26.4733 10.6158C27.1021 9.33813 28.0063 8.35084 29.1882 7.65141C30.3702 6.95197 31.7416 6.60352 33.3024 6.60352C35.5223 6.60352 37.3357 7.28275 38.7399 8.64122C40.1441 9.99969 40.927 11.8455 41.0886 14.1761L41.119 15.3023C41.119 17.8273 40.4143 19.8524 39.0051 21.3775C37.5958 22.9026 35.7042 23.6652 33.3327 23.6652C30.9612 23.6652 29.067 22.9052 27.6527 21.3851C26.2384 19.865 25.5312 17.797 25.5312 15.1811V15.176ZM30.8097 18.8702C31.3981 19.7009 32.2391 20.1175 33.3352 20.1175C34.4313 20.1175 35.2319 19.7085 35.8304 18.8929C36.429 18.0773 36.727 16.7719 36.727 14.9765C36.727 13.4464 36.429 12.2596 35.8304 11.4188C35.2319 10.5779 34.3909 10.1562 33.3049 10.1562C32.2189 10.1562 31.3981 10.5754 30.8097 11.4112C30.2212 12.247 29.9282 13.5423 29.9282 15.2972C29.9282 16.8577 30.2212 18.0495 30.8097 18.8702Z"
                            fill="white" />
                        <path
                            d="M42.957 23.3558V6.90261H47.0939L47.2303 8.80397C48.4072 7.3344 49.9831 6.59961 51.9606 6.59961C53.7033 6.59961 55.0014 7.11219 55.855 8.13483C56.7061 9.15748 57.1431 10.6902 57.1633 12.7279V23.3558H52.7688V12.8339C52.7688 11.9022 52.5668 11.2255 52.1601 10.8038C51.7535 10.3821 51.0792 10.1725 50.1372 10.1725C48.8997 10.1725 47.9728 10.7003 47.354 11.7532V23.3558H42.9596H42.957Z"
                            fill="white" />
                        <path
                            d="M60.5815 6.90254V2.85742H64.9759V6.90254H67.7894V10.127H64.9759V18.3384C64.9759 18.947 65.0921 19.3838 65.327 19.6464C65.5593 19.909 66.0064 20.0428 66.6655 20.0428C67.153 20.0428 67.5823 20.0075 67.9586 19.9368V23.2673C67.0974 23.5299 66.2084 23.6638 65.2967 23.6638C62.2155 23.6638 60.6421 22.1083 60.5815 18.995V10.1295H58.1797V6.90506H60.5815V6.90254Z"
                            fill="white" />
                        <path
                            d="M67.8189 6.90292H72.5493L75.6052 17.1369L78.646 6.90292H83.3612L76.7442 25.9089L76.378 26.775C75.3956 28.9238 73.7717 29.9995 71.5113 29.9995C70.8723 29.9995 70.2233 29.9035 69.5641 29.7116V26.3811L70.2334 26.3962C71.0643 26.3962 71.6856 26.27 72.0972 26.0149C72.5089 25.7624 72.8296 25.3408 73.062 24.7524L73.5797 23.399L67.8164 6.90039L67.8189 6.90292Z"
                            fill="white" />
                        <path
                            d="M91.4297 23.3563V1.2168H95.9934V10.1883H104.891V1.2168H109.455V23.3563H104.891V13.8672H95.9934V23.3563H91.4297Z"
                            fill="white" />
                        <path
                            d="M111.684 15.176V14.9791C111.684 13.3479 111.997 11.8935 112.626 10.6158C113.254 9.33813 114.159 8.35084 115.341 7.65141C116.523 6.95197 117.894 6.60352 119.455 6.60352C121.675 6.60352 123.488 7.28275 124.892 8.64122C126.296 9.99969 127.079 11.8455 127.241 14.1761L127.271 15.3023C127.271 17.8273 126.567 19.8524 125.157 21.3775C123.748 22.9026 121.857 23.6652 119.485 23.6652C117.114 23.6652 115.219 22.9052 113.805 21.3851C112.391 19.865 111.684 17.797 111.684 15.1811V15.176ZM116.962 18.8702C117.55 19.7009 118.391 20.1175 119.488 20.1175C120.584 20.1175 121.384 19.7085 121.983 18.8929C122.581 18.0773 122.879 16.7719 122.879 14.9765C122.879 13.4464 122.581 12.2596 121.983 11.4188C121.384 10.5779 120.543 10.1562 119.457 10.1562C118.371 10.1562 117.55 10.5754 116.962 11.4112C116.374 12.247 116.081 13.5423 116.081 15.2972C116.081 16.8577 116.374 18.0495 116.962 18.8702Z"
                            fill="white" />
                        <path d="M133.843 23.3566H129.434V0H133.843V23.3566Z" fill="white" />
                        <path
                            d="M137.731 8.88056C138.878 7.36049 140.449 6.60045 142.446 6.60045C144.048 6.60045 145.371 7.19889 146.417 8.39576V0H150.826V23.3566H146.856L146.644 21.6093C145.548 22.9779 144.138 23.6621 142.416 23.6621C140.479 23.6621 138.926 22.8996 137.754 21.3745C136.582 19.8493 135.996 17.7283 135.996 15.0114C135.996 12.4459 136.574 10.4032 137.729 8.88309L137.731 8.88056ZM141.199 18.8696C141.737 19.6903 142.517 20.1018 143.54 20.1018C144.899 20.1018 145.856 19.5287 146.414 18.3848V11.8929C145.866 10.7466 144.919 10.1759 143.57 10.1759C141.451 10.1759 140.391 11.8929 140.391 15.3295C140.391 16.8698 140.658 18.0515 141.196 18.8721L141.199 18.8696Z"
                            fill="white" />
                        <path
                            d="M153.422 2.64582C153.422 1.98678 153.642 1.4439 154.084 1.01969C154.526 0.595488 155.124 0.380859 155.887 0.380859C156.65 0.380859 157.235 0.592963 157.682 1.01969C158.13 1.44643 158.352 1.98678 158.352 2.64582C158.352 3.30486 158.127 3.86289 157.675 4.2871C157.223 4.71383 156.627 4.92593 155.887 4.92593C155.147 4.92593 154.551 4.71383 154.099 4.2871C153.647 3.86036 153.422 3.31496 153.422 2.64582ZM153.682 23.3562V6.90304H158.092V23.3562H153.682Z"
                            fill="white" />
                        <path
                            d="M160.844 23.3558V6.90261H164.981L165.117 8.80397C166.294 7.3344 167.87 6.59961 169.847 6.59961C171.59 6.59961 172.888 7.11219 173.742 8.13483C174.593 9.15748 175.03 10.6902 175.05 12.7279V23.3558H170.656V12.8339C170.656 11.9022 170.453 11.2255 170.047 10.8038C169.64 10.3821 168.966 10.1725 168.024 10.1725C166.786 10.1725 165.86 10.7003 165.241 11.7532V23.3558H160.846H160.844Z"
                            fill="white" />
                        <path
                            d="M176.961 15.008C176.961 12.483 177.562 10.4528 178.764 8.91002C179.966 7.36975 181.585 6.59961 183.623 6.59961C185.429 6.59961 186.833 7.21824 187.836 8.45551L188.018 6.90514H192.003V22.8104C192.003 24.2496 191.677 25.5021 191.023 26.5651C190.369 27.6307 189.45 28.4412 188.263 28.9967C187.076 29.5522 185.687 29.8325 184.096 29.8325C182.888 29.8325 181.714 29.5926 180.567 29.1103C179.421 28.6281 178.555 28.0069 177.966 27.2469L179.913 24.5703C181.009 25.7975 182.335 26.4111 183.899 26.4111C185.065 26.4111 185.972 26.1005 186.621 25.4768C187.27 24.8531 187.594 23.9694 187.594 22.823V21.9418C186.581 23.0881 185.247 23.6588 183.593 23.6588C181.616 23.6588 180.017 22.8861 178.794 21.3408C177.572 19.7955 176.961 17.7451 176.961 15.1898V15.008ZM181.355 15.3261C181.355 16.8159 181.653 17.985 182.252 18.8309C182.851 19.6768 183.671 20.101 184.717 20.101C186.055 20.101 187.013 19.5985 187.591 18.5961V11.6775C187.003 10.675 186.055 10.1725 184.747 10.1725C183.692 10.1725 182.863 10.6043 182.26 11.4654C181.656 12.3264 181.355 13.6142 181.355 15.3287V15.3261Z"
                            fill="white" />
                    </g>
                    <defs>
                        <clipPath id="clip0_1523_3106">
                            <rect width="192" height="30" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
          </a>
            
        </div>
        <div 
          :class="`fixed lg:relative w-full h-full lg:w-auto lg:h-auto bg-black lg:bg-transparent top-0 transition-all ${menuOpen ? 'left-0' : '-left-full lg:left-auto'}`">
          <ul class="flex flex-col text-xl font-bold lg:text-base lg:font-normal lg:flex-row px-4 lg:px-0 mt-[90px] lg:mt-0 gap-5">
            <li><a @click="goTo($event,'about-us')" href="#">About us</a></li>
            <li><a @click="goTo($event,'board-of-directors')" href="#">Board of directors</a></li>
            <li><a @click="goTo($event,'our-business-endeavors')" href="#">Our Business Endeavors</a></li>
            <li><a @click="goTo($event,'our-story')" href="#">Our Story</a></li>
          </ul>
        </div>
        <button @click="toggleMenu" class="hamburger focus:outline-none lg:hidden">
            <div :class="menuOpen ? 'open' : ''" class="hamburger-icon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
      </div>
    </section>
  </template>
  
  <script setup>
  import { ref, onMounted, onUnmounted } from 'vue';
  
  const scrolled = ref(false);
  const menuOpen = ref(false);

  const goToTop = (e) => {
    e.preventDefault();
    window.scrollTo({ top: 0, behavior: 'smooth' });
    menuOpen.value = false;
  }
  const goTo = (e,to) => {
      e.preventDefault();
      menuOpen.value = false;
      if(to){
        const element = document.getElementById(to);
        element.scrollIntoView({ behavior: 'smooth'});
      }
  };

  const toggleMenu = () => {
    menuOpen.value = !menuOpen.value;
  };
  
  onMounted(() => {
    const handleScroll = () => {
      scrolled.value = window.scrollY !== 0;
    };
    
    window.addEventListener("scroll", handleScroll);
  
    onUnmounted(() => {
      window.removeEventListener("scroll", handleScroll);
    });

  });
  </script>
  
  <style scoped>
  .hamburger-icon {
    width: 30px;
    height: 20px;
    position: relative;
    display: flex;
    justify-content: space-between;
    flex-direction: column;
    cursor: pointer;
  }
  
  .hamburger-icon span {
    display: block;
    width: 100%;
    height: 4px;
    background: white;
    transition: all 0.3s ease-in-out;
    border-radius: 2px;
  }
  
  .hamburger-icon.open span:nth-child(1) {
    transform: rotate(45deg);
    top: 8px;
    position: absolute;
  }
  
  .hamburger-icon.open span:nth-child(2) {
    opacity: 0;
  }
  
  .hamburger-icon.open span:nth-child(3) {
    transform: rotate(-45deg);
    bottom: 8px;
    position: absolute;
  }
  </style>
  